class MainCart{constructor(t="#main-cart"){this.container=t,this.cartItems=JSON.parse(localStorage.getItem("mycart")),this.amount=JSON.parse(localStorage.getItem("cartAmount")),this._render(this.cartItems,this.container),this._renderTotalCost()}_render(t,a){let e=$(a);for(let a of t){let t=$("<div/>",{class:"cart-content-container"}).appendTo(e);$(".product-headings").after(t),$(".cart-buttons").before(t);let s=$("<div/>",{class:"cart-content"}).appendTo(t),r=$("<a>",{href:"#"}).appendTo(s),c=($("<img>",{src:`${a.imageSrc}`}).css({height:"115px",width:"100px"}).appendTo(r),$("<div/>",{class:"cart-content-text"}).appendTo(s)),o=$("<a>",{href:"#"}).appendTo(c),i=($(`<h4>${a.product_name}</h4>`).appendTo(o),$(`<p>Color:${a.color} <br> Size:${a.size}</p>`).appendTo(c),$("<div/>",{class:"characteristics align"}).appendTo(t)),n=($("<span>",{class:"product-characteristics",text:`$${a.price}`}).appendTo(i),$("<span>",{class:"product-characteristics"}).appendTo(i)),p=($("<input>",{id:"productQuantity",type:"text",placeholder:`${a.quantity}`}).appendTo(n),$("<span>",{class:"product-characteristics",text:"FREE"}).appendTo(i),$("<span>",{class:"product-characteristics",text:`$${a.quantity*a.price}`}).appendTo(i),$("<span>",{class:"product-characteristics"}).on("click","a",t=>{t.preventDefault(),this._removeProduct(t)}).appendTo(i)),d=$("<a>",{"data-id":a.id_product,class:"button-all",href:"#"}).appendTo(p);$('<i class="fas fa-times"></i>').css("pointer-events","none").appendTo(d)}}_renderTotalCost(){let t=this.amount;$(".total-margin").text(`$${t}`)}_updateQuantity(t,a){a.querySelector("#productQuantity").setAttribute("placeholder",`${t}`)}_removeProduct(t){for(let a=0;a<this.cartItems.length;a++)this.cartItems[a].id_product==t.target.getAttribute("data-id")&&(this.cartItems[a].quantity--,this.amount=this.amount-this.cartItems[a].price,this.countGoods=this.countGoods-1,this._renderTotalCost(this.amount),this._updateQuantity(this.cartItems[a].quantity,t.target.closest(".cart-content-container")),this.cartItems[a].quantity<1?(this.cartItems.splice(a,1),t.target.closest(".cart-content-container").remove()):this._renderTotalCost(this.amount),localStorage.setItem("mycart",JSON.stringify(this.cartItems)),localStorage.setItem("cartAmount",JSON.stringify(this.amount)))}}